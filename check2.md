# Trekster

## Data model

### ER діаграма

<p align="center">
	<img src="https://github.com/yvoznyak/Trekster_web/blob/main/docs/images/er.jpg" alt="Use case"/>
</p>

### Опис сутностей

**<a href="https://github.com/yvoznyak/Trekster/blob/main/db/uml.pdf" target="_blank">Посилання</a>**

### Класифікація даних по "data retention policy"

#### Рівень конфіденційності

##### Публічні дані:

- Currencies.name: Назви валют не містять конфіденційної інформації.
- Categories.name: Назви категорій є загальними і неконфіденційними.

##### Внутрішні дані:

- Accounts.name: Імена рахунків можуть бути внутрішньою інформацією організації.
- Transactions.note: Нотатки до транзакцій можуть містити службову інформацію.

##### Конфіденційні дані:

- Transactions.sum: Суми транзакцій вважаються фінансовою інформацією, що потребує захисту.
- StartBalances.sum: Початкові баланси рахунків є конфіденційними даними.

#### Тип даних

##### Персональні дані: Відсутні.

##### Фінансові дані:

- StartBalances.sum
- Transactions.sum

##### Дані про операції:

- Transactions.date
- Transactions.idAccount
- Transactions.idCurrency
- Transactions.idCategory
- Transactions.note

##### Референційні дані:
- Currencies
- Categories
- Accounts

#### Період зберігання

##### Короткострокове зберігання (6-12 місяців):

- Transactions.note: Нотатки можуть бути видалені після короткого періоду, якщо вони не використовуються в аналітиці.

##### Середньострокове зберігання (3-5 років):

- Transactions.date
- Transactions.sum
- StartBalances.sum
- Accounts.name

##### Довгострокове зберігання (5+ років):

- Currencies.name
- Categories.name
- Transactions.idAccount
- Transactions.idCurrency
- Transactions.idCategory

#### Юридичні вимоги

- Транзакції (Transactions): Згідно із фінансовими або податковими вимогами, інформація про транзакції повинна зберігатися щонайменше 5 років.
- Початкові баланси (StartBalances): Можуть зберігатися відповідно до законодавчих вимог, наприклад, 5-7 років.
- Категорії та валюти: Дані про категорії та валюти зазвичай не регулюються законодавством, але можуть зберігатися довгостроково для підтримки історичної звітності.

#### Бізнес-значення

##### Критичні дані:

- StartBalances.sum: Важливі для забезпечення точності фінансової звітності.
- Transactions.sum: Необхідні для аналізу доходів, витрат та прибутковості.

##### Архівні дані:

- Currencies.name: Архівуються для забезпечення зв’язності історичних даних.
- Categories.name: Використовуються для історичної звітності.

#### Рекомендації для впровадження політики зберігання

##### Автоматизація очищення даних:

- Використовувати тригери чи крон-завдання для видалення старих нотаток або даних транзакцій, які перевищили строк зберігання.

##### Архівування:

- Дані з таблиць Currencies та Categories можуть бути переміщені до архіву після їх активного використання.

##### Шифрування конфіденційних даних:

- Забезпечити шифрування колонок із фінансовими даними, такими як Transactions.sum і StartBalances.sum.

##### Логування видалення:

- Створити журнал видалення даних для забезпечення прозорості відповідно до регуляторних вимог.

## Resiliency model

### СID діаграма

<p align="center">
	<img src="https://github.com/yvoznyak/ooap_trekster/blob/main/CID.png"/>
</p>

#### Проблема — Невірний баланс рахунку

Опис категорій причин:

- Люди: Помилки через недосконалі знання або некоректну роботу користувачів (наприклад, неправильний введення даних).
- Процес: Невірно виконані операції або помилки в обчисленнях, які можуть бути викликані проблемами з транзакціями чи категоріями.
- Оборудування: Проблеми з сервером чи іншими компонентами інфраструктури, що можуть вплинути на базу даних.
- Матеріали: Невірно введена інформація про валюту чи транзакції, що можуть призвести до неправильного балансу.

#### RMA діаграма

<p align="center">
	<img src="https://github.com/yvoznyak/ooap_trekster/blob/main/RMA.png"/>
</p>

##### Кроки для аналізу та вирішення:

###### Причини:

- Транзакції можуть бути введені з помилками.
- Невірно введені дані можуть призвести до помилок у розрахунках.

###### Корінні причини:

- Невірно введені дані про категорії та валютні курси.
- Відсутність належних перевірок в системі.

###### Рішення:

- Додати механізм валідації даних для категорій та валютних курсів.
- Перевіряти правильність обчислень під час вставки або оновлення транзакцій.
- Впровадити автоматичні тести для перевірки правильності даних.

## Security model

**<a href="https://github.com/yvoznyak/ooap_trekster/blob/main/Threat_Model_and_Mitigation_Plan.pdf" target="_blank">Threat model та migitation plan</a>**

## Analytics model

## Monitoring&alerting model
